<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marcos e Camila - Convite</title>
</head>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Parisienne&display=swap" rel="stylesheet">
<link rel="stylesheet" href="./styles.css">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

<body class="p-0">

    <div id="mainContent" class="py-2">
        <div class="w-100 p-3 d-flex align-items-center justify-content-center esmanhecer-lento">
            <img src="./imagens/logo.png" width="220" alt="Logo Marcos e Camila">
        </div>

        <div class="text-center">

            <p class="mx-4 m-mx-0 pb-3 esmanhecer-medio">
                “E, acima de tudo, tenham amor, pois o amor une perfeitamente todas as coisas.” (colossenses 3:14)
            </p>

            <h5 class="esmanhecer">
                Com a benção de Deus e de seus pais
            </h5>

            <div class="d-flex flex-wrap align-items-center justify-content-center esmanhecer-medio">
                <div class="col-12 col-md-5 d-flex flex-column py-4">
                    <div>Roberto Braz  de Brito </div>
                    <div>Alessandra Fazan Lopes Bataglioti</div>
                </div>
                <div class="col-12 col-md-5 d-flex flex-column py-4">
                    <div>Carlito Alves Pereira</div>
                    <div>Vanda Gomes de Souza</div>
                </div>
            </div>

            <h1 id="nomes" class="esmanhecer py-4">
                Marcos e Camila
            </h1>

            <div id="geralMessageDiv" class="pb-4 d-flex justify-content-center esmanhecer-lento flex-column align-items-center">

                <div id="persMessage" class="olive-border"></div> 
                <div class="d-flex justify-content-end">~Marcos e Camila</div>

            </div>

            <h5 class="esmanhecer">
                Convidam para seu casamento
            </h5>

            <div id="geralNameDiv" class='py-4'>
                <div id="persNames"></div> 
                <img src="./imagens/folhas.png" width="250px" style="margin-top: -5px;">
            </div>

            <h2 class="esmanhecer-medio">
                10 de Agosto de 2024 | 19H00
            </h2>

            <div class="my-0 mx-4 m-mx-0 pb-3 esmanhecer-medio d-flex flex-column gap-1">
                <div>Igreja: Avelino Boselli nº 142 - Jd. Sobral</div>
                <div>Edícula: Rua Evanir Terezinha Marques Storino n° 292 - Tennis Park (edícula do Magal)</div>
            </div>

        </div>

    </div>
    
    <div id="botão" class="gap-2 d-flex flex-row justify-content-center esmanhecer-lento py-4">
        <button id="btnConfirm" class="btn-olive" onclick="confirm()">
            Confirmar presença
        </button>
    </div>

    <div class="d-flex align-items-center justify-content-center">
        <img src="./imagens/folhas.png" width="80%" alt="folhas">
    </div>

</body>

<script>

    var btn = document.getElementById('btnConfirm')
    btn.addEventListener('mouseenter', function(e) {
        btn.innerText = "Eu vou!"
    })
    btn.addEventListener('mouseleave', function(e) {
        btn.innerText = "Confirmar presença"
    })

    function confirm(){
        window.location.href = 'https://wa.me/5516999756043?text=Oii.%20Estou%20confirmando%20minha%20presen%C3%A7a%20para%20o%20casamento!'
    }

    //Padrinhos
    var message = ''
    function loadMessage(){
        var search = window.location.search
        search = search.split('&')
        search.forEach(element => {
            if(element.includes('message')){
                message = element.replace('message=', '')
                message = message.replace('&', '')
                message = message.replace('?', '')
                message = window.decodeURI(message)
            }
        })

        if(message.length > 0){
            document.getElementById('persMessage').innerText = '"' + message + '"'
        }else{
            document.getElementById('geralMessageDiv').remove()
        }
    }
    loadMessage()

    var names = []
    function loadNames(){
        var search = window.location.search
        search = search.split('&')
        search.forEach(element => {
            var el = ''
            if(element.includes('name')){
                el = element.split('=')[1]
                el = el.replace('&', '')
                el = el.replace('?', '')
                el = window.decodeURI(el)
                if(el.length > 0){
                    names.push(el)
                }
            }
        })
        if(names.length > 0){
            var nametext = ''
            names.forEach((el, index) => {
                if(index == names.length - 1){
                    if(names.length > 1){
                        nametext += ' e ' + el
                    }else{
                        nametext += el
                    }
                }else{
                    nametext += el
                    if(index < names.length - 2){
                        nametext += ', '
                    }
                }
            })
            document.getElementById('persNames').innerText = nametext
        }else{
            document.getElementById('geralNameDiv').remove()
        }
        
    }
    loadNames()

</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

</html>